jQuery.fn.extend({maskWeight:function(i){var t={arr:[],insertCount:0,options:{integerDigits:3,decimalDigits:3,decimalMark:".",initVal:"",roundingZeros:!0,digitsCount:6},initializeOptions:function(i){if(console.log(i),i)for(var t in i)void 0!==i[t]&&null!==i[t]&&(this.options[t]=i[t]);if(console.log(this.options),""==this.options.initVal){if(this.options.roundingZeros)this.options.initVal+="0";else for(var s=0;s<this.options.integerDigits;s++)this.options.initVal+="0";this.options.initVal+=this.options.decimalMark;for(var s=0;s<this.options.decimalDigits;s++)this.options.initVal+="0"}this.options.digitsCount=this.options.integerDigits+this.options.decimalDigits,this.arr=[];for(var s=0;s<this.options.digitsCount;s++)this.arr.push("0")},mask:function(i){"backspace"==i?this.insertCount>0&&(this.arr.pop(),this.arr.unshift("0"),this.insertCount--):this.insertCount<this.options.digitsCount&&(this.arr.shift(),this.arr.push(i.toString()),this.insertCount++);for(var t="",s=0;s<this.arr.length;s++)t+=this.arr[s];return this.reduce(t)},reduce:function(i){return this.options.roundingZeros?parseInt(i.substring(0,this.options.integerDigits))+this.options.decimalMark+i.substring(this.options.integerDigits,this.options.digitsCount):i.substring(0,this.options.integerDigits)+this.options.decimalMark+i.substring(this.options.integerDigits,this.options.digitsCount)},getNumber:function(i){return String.fromCharCode(i.keyCode||i.which)},setCartetOnEnd:function(i){setTimeout(function(){i.selectionStart=i.selectionEnd=1e4},1)},isNumberOrBackspace:function(i){return"backspace"==i?!0:parseInt(i)?!0:!1},init:function(i){var t=this;i.val(this.options.initVal),i.on("focus",function(s){t.setCartetOnEnd(i)}),i.on("keydown",function(s){var n=s.keyCode||s.which;(8==n||46==n)&&(s.preventDefault(),s.stopPropagation(),i.val(t.mask("backspace")),t.setCartetOnEnd(i))}),i.on("keypress",function(s){s.preventDefault(),s.stopPropagation();var n=t.getNumber(s);t.isNumberOrBackspace(n)&&(i.val(t.mask(n)),t.setCartetOnEnd(i))})}};t.initializeOptions(i),t.init($(this))}});