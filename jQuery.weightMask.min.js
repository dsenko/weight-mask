jQuery.fn.extend({maskWeight:function(i){var t={selector:$(this),arr:[],insertCount:0,options:{integerDigits:3,decimalDigits:3,decimalMark:".",initVal:"",roundingZeros:!0,digitsCount:6},initializeOptions:function(i){if(i)for(var t in i)void 0!==i[t]&&null!==i[t]&&(this.options[t]=i[t]);0==this.options.decimalDigits&&(this.options.decimalMark="");var s=!1;if(""==this.options.initVal){if(this.options.roundingZeros)this.options.initVal+="0";else for(var n=0;n<this.options.integerDigits;n++)this.options.initVal+="0";this.options.initVal+=this.options.decimalMark;for(var n=0;n<this.options.decimalDigits;n++)this.options.initVal+="0"}else s=!0;this.options.digitsCount=this.options.integerDigits+this.options.decimalDigits,this.arr=[];for(var n=0;n<this.options.digitsCount;n++)this.arr.push("0");s&&parseInt(this.options.initVal)>0&&this.createInitialValueArr()},createInitialValueArr:function(){this.options.initVal=0==this.options.decimalDigits?parseInt(this.options.initVal):parseFloat(this.options.initVal.toString().replace(",",".")).toFixed(this.options.decimalDigits).replace(".",this.options.decimalMark);for(var i=this.options.initVal.toString().replace(".","").replace(",","").split(""),t=0;t<i.length;t++)this.insert(i[t])},insert:function(i){var t=this.mask(i);this.selector.val(t),this.setCartetOnEnd()},mask:function(i){"backspace"==i?this.insertCount>0&&(this.arr.pop(),this.arr.unshift("0"),this.insertCount--):this.insertCount<this.options.digitsCount&&(this.arr.shift(),this.arr.push(i.toString()),this.insertCount++);for(var t="",s=0;s<this.arr.length;s++)t+=this.arr[s];return t=this.reduce(t)},reduce:function(i){return 0==this.options.decimalDigits?this.options.roundingZeros?parseInt(i):i:this.options.roundingZeros?parseInt(i.substring(0,this.options.integerDigits))+this.options.decimalMark+i.substring(this.options.integerDigits,this.options.digitsCount):i.substring(0,this.options.integerDigits)+this.options.decimalMark+i.substring(this.options.integerDigits,this.options.digitsCount)},getNumber:function(i){return String.fromCharCode(i.keyCode||i.which)},setCartetOnEnd:function(){var i=this;setTimeout(function(){i.selector.selectionStart=i.selector.selectionEnd=1e4},1)},isNumberOrBackspace:function(i){return"backspace"==i?!0:parseInt(i)||0==parseInt(i)?!0:!1},init:function(){var i=this;this.selector.val(this.options.initVal),this.selector.on("focus",function(t){i.setCartetOnEnd()}),this.selector.on("keydown",function(t){var s=t.keyCode||t.which;(8==s||46==s)&&(t.preventDefault(),t.stopPropagation(),i.insert("backspace"))}),this.selector.on("keypress",function(t){t.preventDefault(),t.stopPropagation();var s=i.getNumber(t);i.isNumberOrBackspace(s)&&i.insert(s)})}};t.initializeOptions(i),t.init()}});